[gd_scene load_steps=3 format=3 uid="uid://df7cd8fkxsvue"]

[ext_resource type="Script" uid="uid://bkm2rupkdlyrv" path="res://Scraper.gd" id="1_2fwng"]
[ext_resource type="Script" uid="uid://bu7cao7jbefuq" path="res://addons/cookie_http_request/main/cookie_http_request.gd" id="2_iobqe"]

[node name="Control" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_2fwng")

[node name="CookieHTTPRequest" type="HTTPRequest" parent="."]
script = ExtResource("2_iobqe")

[node name="Background" type="ColorRect" parent="."]
layout_mode = 0
offset_right = 725.0
offset_bottom = 725.0
color = Color(0.188235, 0.188235, 0.188235, 1)

[node name="Manga FileDialog" type="FileDialog" parent="."]
mode = 2
title = "Open a File"
position = Vector2i(10, 40)
size = Vector2i(705, 675)
ok_button_text = "Open"
file_mode = 0
access = 2
filters = PackedStringArray("*.zip")

[node name="Manga Name" type="TextEdit" parent="."]
layout_mode = 0
offset_left = 10.0
offset_top = 131.0
offset_right = 710.0
offset_bottom = 181.0
theme_override_font_sizes/font_size = 27
placeholder_text = "Enter Manga Name"

[node name="Progress Panel" type="Panel" parent="."]
layout_mode = 0
offset_left = 13.0
offset_top = 193.0
offset_right = 713.0
offset_bottom = 624.0

[node name="Text" type="RichTextLabel" parent="Progress Panel"]
layout_mode = 0
offset_right = 697.0
offset_bottom = 426.0
theme_override_font_sizes/normal_font_size = 25
scroll_following = true

[node name="Crawl From URL" type="Control" parent="."]
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="E-Hentai URL" type="TextEdit" parent="Crawl From URL"]
layout_mode = 0
offset_left = 10.0
offset_top = 69.0
offset_right = 710.0
offset_bottom = 119.0
theme_override_font_sizes/font_size = 27
placeholder_text = "Enter E-Hentai URL"

[node name="Select Manga File" type="Button" parent="Crawl From URL"]
layout_mode = 0
offset_left = 12.0
offset_top = 13.0
offset_right = 712.0
offset_bottom = 56.0
theme_override_font_sizes/font_size = 25
text = "Select Manga File"

[node name="Button" type="Button" parent="Crawl From URL"]
layout_mode = 0
offset_left = 15.0
offset_top = 642.0
offset_right = 308.0
offset_bottom = 709.0
theme_override_font_sizes/font_size = 25
text = "Crawl from ComicInfo.xml"

[node name="Crawl From ComicInfo" type="Control" parent="."]
visible = false
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Select Manga File" type="Button" parent="Crawl From ComicInfo"]
layout_mode = 0
offset_left = 12.0
offset_top = 13.0
offset_right = 712.0
offset_bottom = 56.0
theme_override_font_sizes/font_size = 25
text = "Select Manga File"

[node name="Select ComicInfo File" type="Button" parent="Crawl From ComicInfo"]
layout_mode = 0
offset_left = 10.0
offset_top = 69.0
offset_right = 710.0
offset_bottom = 117.0
theme_override_font_sizes/font_size = 25
text = "Select ComicInfo File"

[node name="ComicInfo FileDialog" type="FileDialog" parent="Crawl From ComicInfo"]
auto_translate_mode = 1
mode = 2
title = "Open a File"
position = Vector2i(10, 40)
size = Vector2i(705, 675)
ok_button_text = "Open"
file_mode = 0
access = 2
filters = PackedStringArray("*.xml")

[node name="Button" type="Button" parent="Crawl From ComicInfo"]
layout_mode = 0
offset_left = 15.0
offset_top = 642.0
offset_right = 308.0
offset_bottom = 709.0
theme_override_font_sizes/font_size = 25
text = "Crawl from URL"

[node name="Start" type="Button" parent="."]
layout_mode = 0
offset_left = 568.0
offset_top = 636.0
offset_right = 710.0
offset_bottom = 707.0
theme_override_font_sizes/font_size = 45
text = "START"

[connection signal="file_selected" from="Manga FileDialog" to="." method="_on_manga_file_dialog_file_selected"]
[connection signal="pressed" from="Crawl From URL/Select Manga File" to="." method="_on_select_manga_file_pressed"]
[connection signal="pressed" from="Crawl From URL/Button" to="." method="switch_to_comic_info"]
[connection signal="pressed" from="Crawl From ComicInfo/Select Manga File" to="." method="_on_select_manga_file_pressed"]
[connection signal="pressed" from="Crawl From ComicInfo/Select ComicInfo File" to="." method="_on_select_comic_info_file_pressed"]
[connection signal="file_selected" from="Crawl From ComicInfo/ComicInfo FileDialog" to="." method="_on_comicinfo_file_dialog_file_selected"]
[connection signal="pressed" from="Crawl From ComicInfo/Button" to="." method="switch_to_url_crawl"]
[connection signal="pressed" from="Start" to="." method="_on_start_pressed"]
